(function(){"use strict";var e={8762:function(e,t,n){var o=n(9242),r=n(3396);function s(e,t){const n=(0,r.up)("router-view");return(0,r.wg)(),(0,r.j4)(n)}var i=n(89);const a={},c=(0,i.Z)(a,[["render",s]]);var l=c,u=n(2483);const d={lang:"en"},p=(0,r._)("head",null,[(0,r._)("meta",{charset:"UTF-8"}),(0,r._)("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}),(0,r._)("title",null,"Login Page"),(0,r._)("link",{href:"https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css",rel:"stylesheet",integrity:"sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN",crossorigin:"anonymous"})],-1),h={class:"container mt-5"},m={class:"row justify-content-center"},f={class:"col-md-6"},g={class:"card"},w=(0,r._)("div",{class:"card-header"},[(0,r._)("h3",{class:"text-center"},"登入")],-1),_={class:"card-body"},v={class:"mb-3"},b=(0,r._)("label",{for:"username",class:"form-label"},"使用者名稱：",-1),y={class:"mb-3"},k=(0,r._)("label",{for:"password",class:"form-label"},"密碼：",-1),x=(0,r._)("div",{class:"text-center"},[(0,r._)("button",{type:"submit",class:"btn btn-primary"},"登入")],-1);function S(e,t,n,s,i,a){return(0,r.wg)(),(0,r.iD)("html",d,[p,(0,r._)("body",null,[(0,r._)("div",h,[(0,r._)("div",m,[(0,r._)("div",f,[(0,r._)("div",g,[w,(0,r._)("div",_,[(0,r._)("form",{onSubmit:t[2]||(t[2]=(0,o.iM)(((...e)=>a.login&&a.login(...e)),["prevent"]))},[(0,r._)("div",v,[b,(0,r.wy)((0,r._)("input",{type:"text",class:"form-control","onUpdate:modelValue":t[0]||(t[0]=e=>i.user.username=e),id:"username",name:"username",required:""},null,512),[[o.nr,i.user.username]])]),(0,r._)("div",y,[k,(0,r.wy)((0,r._)("input",{type:"password",class:"form-control",name:"password","onUpdate:modelValue":t[1]||(t[1]=e=>i.user.password=e),autocomplete:"current-password"},null,512),[[o.nr,i.user.password]])]),x],32)])])])])])])])}n(560);var D=n(1076),I={name:"HomeView",components:{},data(){return{user:{username:"",password:""}}},methods:{login(){const e="https://vue3-course-api.hexschool.io/v2/admin/signin";D.Z.post(e,this.user).then((e=>{const{token:t,expired:n}=e.data;console.log(e),document.cookie=`hexToken=${t};expires=${new Date(n)}; path=/`,this.$router.push("/product")})).catch((e=>{alert(e.response.data.message)}))}}};const z=(0,i.Z)(I,[["render",S]]);var O=z,U=n(7139);const j={class:"container"},P={class:"row py-3"},T={class:"col-md-6"},$=(0,r._)("h2",null,"產品列表",-1),M={class:"table table-hover mt-4"},Z=(0,r._)("thead",null,[(0,r._)("tr",null,[(0,r._)("th",{width:"150"},"產品名稱"),(0,r._)("th",{width:"120"},"原價"),(0,r._)("th",{width:"120"},"售價"),(0,r._)("th",{width:"150"},"是否啟用"),(0,r._)("th",{width:"120"},"查看細節")])],-1),q={width:"150"},C={width:"120"},A={width:"120"},H={width:"150"},V={key:0,class:"text-success"},E={key:1},K={width:"120"},Y=["onClick"],F={class:"col-md-6"},G=(0,r._)("h2",null,"單一產品細節",-1),L={class:"card mb-3"},N=["src"],R={class:"card-body"},X={class:"card-title"},B={class:"badge bg-primary ms-2"},J={class:"card-text"},Q={class:"card-text"},W={class:"d-flex"},ee={class:"card-text me-2"},te={class:"card-text text-secondary"},ne={key:0},oe=["src"],re={key:1,class:"text-secondary"};function se(e,t,n,o,s,i){return(0,r.wg)(),(0,r.iD)("div",j,[(0,r._)("div",P,[(0,r._)("div",T,[$,(0,r._)("table",M,[Z,(0,r._)("tbody",null,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(s.products,((e,t)=>((0,r.wg)(),(0,r.iD)("tr",{key:t},[(0,r._)("td",q,(0,U.zw)(e.category),1),(0,r._)("td",C,(0,U.zw)(e.origin_price),1),(0,r._)("td",A,(0,U.zw)(e.price),1),(0,r._)("td",H,[e.is_enabled?((0,r.wg)(),(0,r.iD)("span",V,"啟用")):(0,r.kq)("",!0),e.is_enabled?(0,r.kq)("",!0):((0,r.wg)(),(0,r.iD)("span",E,"未啟用"))]),(0,r._)("td",K,[(0,r._)("button",{type:"button",class:"btn btn-primary",onClick:t=>s.SingleInfo=e},"查看細節",8,Y)])])))),128))])]),(0,r._)("p",null,[(0,r.Uk)(" 目前有 "),(0,r._)("span",null,(0,U.zw)(s.products.length),1),(0,r.Uk)(" 項產品 ")])]),(0,r._)("div",F,[G,s.SingleInfo.title?((0,r.wg)(),(0,r.iD)(r.HY,{key:0},[(0,r._)("div",L,[(0,r._)("img",{src:s.SingleInfo.imageUrl,class:"card-img-top primary-image",alt:"主圖"},null,8,N),(0,r._)("div",R,[(0,r._)("h5",X,[(0,r.Uk)((0,U.zw)(s.SingleInfo.title)+" ",1),(0,r._)("span",B,(0,U.zw)(s.SingleInfo.category),1)]),(0,r._)("p",J,"商品描述："+(0,U.zw)(s.SingleInfo.description),1),(0,r._)("p",Q,"商品內容："+(0,U.zw)(s.SingleInfo.content),1),(0,r._)("div",W,[(0,r._)("p",ee,(0,U.zw)(s.SingleInfo.price),1),(0,r._)("p",te,[(0,r._)("del",null,(0,U.zw)(s.SingleInfo.origin_price),1)]),(0,r.Uk)(" 元 / "+(0,U.zw)(s.SingleInfo.unit),1)])])]),s.SingleInfo.imagesUrl?((0,r.wg)(),(0,r.iD)("div",ne,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(s.SingleInfo.imagesUrl,((e,t)=>((0,r.wg)(),(0,r.iD)("img",{key:t,src:e,alt:"",class:"images m-2"},null,8,oe)))),128))])):(0,r.kq)("",!0)],64)):(0,r.kq)("",!0),s.SingleInfo.title?(0,r.kq)("",!0):((0,r.wg)(),(0,r.iD)("p",re,"請選擇一個商品查看"))])])])}var ie={name:"ProductView",components:{},data(){return{apiUrl:"https://vue3-course-api.hexschool.io/v2",apiPath:"wuyi0020",products:[],SingleInfo:{}}},methods:{checkAdmin(){const e=`${this.apiUrl}/api/user/check`;D.Z.post(e).then((()=>{this.getData()})).catch((e=>{alert(e.response.data.message),window.location="login.html"}))},getData(){const e=`${this.apiUrl}/api/${this.apiPath}/admin/products`;D.Z.get(e).then((e=>{this.products=e.data.products})).catch((e=>{alert(e.response.data.message)}))},openProduct(e){this.tempProduct=e}},mounted(){const e=document.cookie.replace(/(?:(?:^|.*;\s*)hexToken\s*=\s*([^;]*).*$)|^.*$/,"$1");D.Z.defaults.headers.common.Authorization=e,this.checkAdmin()}};const ae=(0,i.Z)(ie,[["render",se]]);var ce=ae;const le=[{path:"/",name:"home",component:O},{path:"/product",name:"product",component:ce}],ue=(0,u.p7)({history:(0,u.r5)(),routes:le});var de=ue;(0,o.ri)(l).use(de).mount("#app")}},t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var s=t[o]={exports:{}};return e[o].call(s.exports,s,s.exports,n),s.exports}n.m=e,function(){var e=[];n.O=function(t,o,r,s){if(!o){var i=1/0;for(u=0;u<e.length;u++){o=e[u][0],r=e[u][1],s=e[u][2];for(var a=!0,c=0;c<o.length;c++)(!1&s||i>=s)&&Object.keys(n.O).every((function(e){return n.O[e](o[c])}))?o.splice(c--,1):(a=!1,s<i&&(i=s));if(a){e.splice(u--,1);var l=r();void 0!==l&&(t=l)}}return t}s=s||0;for(var u=e.length;u>0&&e[u-1][2]>s;u--)e[u]=e[u-1];e[u]=[o,r,s]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={143:0};n.O.j=function(t){return 0===e[t]};var t=function(t,o){var r,s,i=o[0],a=o[1],c=o[2],l=0;if(i.some((function(t){return 0!==e[t]}))){for(r in a)n.o(a,r)&&(n.m[r]=a[r]);if(c)var u=c(n)}for(t&&t(o);l<i.length;l++)s=i[l],n.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return n.O(u)},o=self["webpackChunkweek2"]=self["webpackChunkweek2"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=n.O(void 0,[998],(function(){return n(8762)}));o=n.O(o)})();
//# sourceMappingURL=app.d215417d.js.map