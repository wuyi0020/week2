(function(){"use strict";var e={7433:function(e,t,n){var r=n(9242),o=n(3396);function i(e,t){const n=(0,o.up)("router-view");return(0,o.wg)(),(0,o.j4)(n)}var a=n(89);const s={},c=(0,a.Z)(s,[["render",i]]);var l=c,u=n(2483);const d={lang:"en"},p=(0,o._)("head",null,[(0,o._)("meta",{charset:"UTF-8"}),(0,o._)("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}),(0,o._)("title",null,"Login Page"),(0,o._)("link",{href:"https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css",rel:"stylesheet",integrity:"sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN",crossorigin:"anonymous"})],-1),m={class:"container mt-5"},f={class:"row justify-content-center"},h={class:"col-md-6"},g={class:"card"},v=(0,o._)("div",{class:"card-header"},[(0,o._)("h3",{class:"text-center"},"登入")],-1),w={class:"card-body"},b={class:"mb-3"},_=(0,o._)("label",{for:"username",class:"form-label"},"使用者名稱：",-1),y={class:"mb-3"},k=(0,o._)("label",{for:"password",class:"form-label"},"密碼：",-1),x=(0,o.uE)('<div class="mb-3 form-check"><input type="checkbox" class="form-check-input" id="rememberMe"><label class="form-check-label" for="rememberMe">記住我</label></div><div class="text-center"><button type="submit" class="btn btn-primary">登入</button></div>',2);function S(e,t,n,i,a,s){return(0,o.wg)(),(0,o.iD)("html",d,[p,(0,o._)("body",null,[(0,o._)("div",m,[(0,o._)("div",f,[(0,o._)("div",h,[(0,o._)("div",g,[v,(0,o._)("div",w,[(0,o._)("form",{onSubmit:t[2]||(t[2]=(0,r.iM)(((...e)=>s.login&&s.login(...e)),["prevent"]))},[(0,o._)("div",b,[_,(0,o.wy)((0,o._)("input",{type:"text",class:"form-control","onUpdate:modelValue":t[0]||(t[0]=e=>a.user.username=e),id:"username",name:"username",required:""},null,512),[[r.nr,a.user.username]])]),(0,o._)("div",y,[k,(0,o.wy)((0,o._)("input",{type:"password",name:"password","onUpdate:modelValue":t[1]||(t[1]=e=>a.user.password=e),autocomplete:"current-password"},null,512),[[r.nr,a.user.password]])]),x],32)])])])])])])])}n(560);var j=n(1076),D={name:"HomeView",components:{},data(){return{user:{username:"",password:""}}},methods:{login(){const e="https://vue3-course-api.hexschool.io/v2/admin/signin";j.Z.post(e,this.user).then((e=>{const{token:t,expired:n}=e.data;console.log(e),document.cookie=`hexToken=${t};expires=${new Date(n)}; path=/`,this.$router.push("/product")})).catch((e=>{alert(e.response.data.message)}))}}};const I=(0,a.Z)(D,[["render",S]]);var O=I,z=n(7139);const P={class:"container"},U={class:"row py-3"},T={class:"col-md-6"},C=(0,o._)("h2",null,"產品列表",-1),A={class:"table table-hover mt-4"},E=(0,o._)("thead",null,[(0,o._)("tr",null,[(0,o._)("th",{width:"150"},"產品名稱"),(0,o._)("th",{width:"120"},"原價"),(0,o._)("th",{width:"120"},"售價"),(0,o._)("th",{width:"150"},"是否啟用"),(0,o._)("th",{width:"120"},"查看細節")])],-1),M={width:"150"},$={width:"120"},q={width:"120"},Z={width:"150"},H={key:0,class:"text-success"},N={key:1},V={width:"120"},L=["onClick"],F={class:"col-md-6"},K=(0,o._)("h2",null,"單一產品細節",-1),Y={class:"card mb-3"},G=["src"],R={class:"card-body"},X={class:"card-title"},B={class:"badge bg-primary ms-2"},J={class:"card-text"},Q={class:"card-text"},W={class:"d-flex"},ee={class:"card-text me-2"},te={class:"card-text text-secondary"},ne={key:0},re=["src"],oe={key:1,class:"text-secondary"};function ie(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("div",P,[(0,o._)("div",U,[(0,o._)("div",T,[C,(0,o._)("table",A,[E,(0,o._)("tbody",null,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(i.products,((e,t)=>((0,o.wg)(),(0,o.iD)("tr",{key:t},[(0,o._)("td",M,(0,z.zw)(e.category),1),(0,o._)("td",$,(0,z.zw)(e.origin_price),1),(0,o._)("td",q,(0,z.zw)(e.price),1),(0,o._)("td",Z,[e.is_enabled?((0,o.wg)(),(0,o.iD)("span",H,"啟用")):(0,o.kq)("",!0),e.is_enabled?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("span",N,"未啟用"))]),(0,o._)("td",V,[(0,o._)("button",{type:"button",class:"btn btn-primary",onClick:t=>i.SingleInfo=e},"查看細節",8,L)])])))),128))])]),(0,o._)("p",null,[(0,o.Uk)(" 目前有 "),(0,o._)("span",null,(0,z.zw)(i.products.length),1),(0,o.Uk)(" 項產品 ")])]),(0,o._)("div",F,[K,i.SingleInfo.title?((0,o.wg)(),(0,o.iD)(o.HY,{key:0},[(0,o._)("div",Y,[(0,o._)("img",{src:i.SingleInfo.imageUrl,class:"card-img-top primary-image",alt:"主圖"},null,8,G),(0,o._)("div",R,[(0,o._)("h5",X,[(0,o.Uk)((0,z.zw)(i.SingleInfo.title)+" ",1),(0,o._)("span",B,(0,z.zw)(i.SingleInfo.category),1)]),(0,o._)("p",J,"商品描述："+(0,z.zw)(i.SingleInfo.description),1),(0,o._)("p",Q,"商品內容："+(0,z.zw)(i.SingleInfo.content),1),(0,o._)("div",W,[(0,o._)("p",ee,(0,z.zw)(i.SingleInfo.price),1),(0,o._)("p",te,[(0,o._)("del",null,(0,z.zw)(i.SingleInfo.origin_price),1)]),(0,o.Uk)(" 元 / "+(0,z.zw)(i.SingleInfo.unit),1)])])]),i.SingleInfo.imagesUrl?((0,o.wg)(),(0,o.iD)("div",ne,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(i.SingleInfo.imagesUrl,((e,t)=>((0,o.wg)(),(0,o.iD)("img",{key:t,src:e,alt:"",class:"images m-2"},null,8,re)))),128))])):(0,o.kq)("",!0)],64)):(0,o.kq)("",!0),i.SingleInfo.title?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("p",oe,"請選擇一個商品查看"))])])])}var ae={name:"ProductView",components:{},data(){return{apiUrl:"https://vue3-course-api.hexschool.io/v2",apiPath:"wuyi0020",products:[],SingleInfo:{}}},methods:{checkAdmin(){const e=`${this.apiUrl}/api/user/check`;j.Z.post(e).then((()=>{this.getData()})).catch((e=>{alert(e.response.data.message),window.location="login.html"}))},getData(){const e=`${this.apiUrl}/api/${this.apiPath}/admin/products`;j.Z.get(e).then((e=>{this.products=e.data.products})).catch((e=>{alert(e.response.data.message)}))},openProduct(e){this.tempProduct=e}},mounted(){const e=document.cookie.replace(/(?:(?:^|.*;\s*)hexToken\s*=\s*([^;]*).*$)|^.*$/,"$1");j.Z.defaults.headers.common.Authorization=e,this.checkAdmin()}};const se=(0,a.Z)(ae,[["render",ie]]);var ce=se;const le=[{path:"/",name:"home",component:O},{path:"/about",name:"about",component:()=>n.e(443).then(n.bind(n,833))},{path:"/product",name:"product",component:ce}],ue=(0,u.p7)({history:(0,u.r5)(),routes:le});var de=ue;(0,r.ri)(l).use(de).mount("#app")}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r].call(i.exports,i,i.exports,n),i.exports}n.m=e,function(){var e=[];n.O=function(t,r,o,i){if(!r){var a=1/0;for(u=0;u<e.length;u++){r=e[u][0],o=e[u][1],i=e[u][2];for(var s=!0,c=0;c<r.length;c++)(!1&i||a>=i)&&Object.keys(n.O).every((function(e){return n.O[e](r[c])}))?r.splice(c--,1):(s=!1,i<a&&(a=i));if(s){e.splice(u--,1);var l=o();void 0!==l&&(t=l)}}return t}i=i||0;for(var u=e.length;u>0&&e[u-1][2]>i;u--)e[u]=e[u-1];e[u]=[r,o,i]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))}}(),function(){n.u=function(e){return"js/about.6ab87468.js"}}(),function(){n.miniCssF=function(e){}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="week2:";n.l=function(r,o,i,a){if(e[r])e[r].push(o);else{var s,c;if(void 0!==i)for(var l=document.getElementsByTagName("script"),u=0;u<l.length;u++){var d=l[u];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+i){s=d;break}}s||(c=!0,s=document.createElement("script"),s.charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+i),s.src=r),e[r]=[o];var p=function(t,n){s.onerror=s.onload=null,clearTimeout(m);var o=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),o&&o.forEach((function(e){return e(n)})),t)return t(n)},m=setTimeout(p.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=p.bind(null,s.onerror),s.onload=p.bind(null,s.onload),c&&document.head.appendChild(s)}}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){n.p="/week2/"}(),function(){var e={143:0};n.f.j=function(t,r){var o=n.o(e,t)?e[t]:void 0;if(0!==o)if(o)r.push(o[2]);else{var i=new Promise((function(n,r){o=e[t]=[n,r]}));r.push(o[2]=i);var a=n.p+n.u(t),s=new Error,c=function(r){if(n.o(e,t)&&(o=e[t],0!==o&&(e[t]=void 0),o)){var i=r&&("load"===r.type?"missing":r.type),a=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+i+": "+a+")",s.name="ChunkLoadError",s.type=i,s.request=a,o[1](s)}};n.l(a,c,"chunk-"+t,t)}},n.O.j=function(t){return 0===e[t]};var t=function(t,r){var o,i,a=r[0],s=r[1],c=r[2],l=0;if(a.some((function(t){return 0!==e[t]}))){for(o in s)n.o(s,o)&&(n.m[o]=s[o]);if(c)var u=c(n)}for(t&&t(r);l<a.length;l++)i=a[l],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return n.O(u)},r=self["webpackChunkweek2"]=self["webpackChunkweek2"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=n.O(void 0,[998],(function(){return n(7433)}));r=n.O(r)})();
//# sourceMappingURL=app.969702da.js.map